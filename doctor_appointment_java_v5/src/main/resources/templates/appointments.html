<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Appointments - Doctor Appointment</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <script defer th:src="@{/js/main.js}"></script>
</head>
<body class="dark-body">
    <div class="app-container fade-in parallax-bg">

        <nav class="top-nav">
            <div class="brand" data-en="ðŸ©º Doctor Appointment" data-hi="ðŸ©º à¤¡à¥‰à¤•à¥à¤Ÿà¤° à¤…à¤ªà¥‰à¤‡à¤‚à¤Ÿà¤®à¥‡à¤‚à¤Ÿ">
                ðŸ©º Doctor Appointment
            </div>
            <div class="nav-links">
                <a th:href="@{/dashboard}" data-en="Dashboard" data-hi="à¤¡à¥ˆà¤¶à¤¬à¥‹à¤°à¥à¤¡">Dashboard</a>
                <a th:href="@{/doctors}" data-en="Doctors" data-hi="à¤¡à¥‰à¤•à¥à¤Ÿà¤°">Doctors</a>
                    <a th:href="@{/patients}" data-en="Patients" data-hi="à¤ªà¥‡à¤¶à¥‡à¤‚à¤Ÿ">Patients</a>
                <a th:href="@{/appointments}" data-en="Appointments" data-hi="à¤…à¤ªà¥‰à¤‡à¤‚à¤Ÿà¤®à¥‡à¤‚à¤Ÿ">Appointments</a>
                <a th:href="@{/logout}" data-en="Logout" data-hi="à¤²à¥‰à¤—à¤†à¤‰à¤Ÿ">Logout</a>
            </div>
            <button type="button" class="lang-toggle" id="langToggle" data-lang="en">
                EN / HI
            </button>
        </nav>

        <main class="main-content">
            <div class="page-header page-header-row">
                <h1 class="page-title" data-en="Appointments" data-hi="à¤…à¤ªà¥‰à¤‡à¤‚à¤Ÿà¤®à¥‡à¤‚à¤Ÿ">Appointments</h1>
                <a th:href="@{/appointments/export}" class="btn-small export-btn hover-lift"
                   data-en="Export CSV" data-hi="CSV à¤¨à¤¿à¤°à¥à¤¯à¤¾à¤¤ à¤•à¤°à¥‡à¤‚">
                    Export CSV
                </a>
            </div>

            <div class="grid-2">
                <div class="card slide-up glow-card">
                    <h3 data-en="Book Appointment" data-hi="à¤…à¤ªà¥‰à¤‡à¤‚à¤Ÿà¤®à¥‡à¤‚à¤Ÿ à¤¬à¥à¤• à¤•à¤°à¥‡à¤‚">Book Appointment</h3>
                    <form method="post" th:action="@{/appointments}">
                        <div class="form-group">
                            <label data-en="Doctor" data-hi="à¤¡à¥‰à¤•à¥à¤Ÿà¤°">Doctor</label>
                            <select name="doctorId" required>
                                <option th:each="d : ${doctors}" th:value="${d.id}" th:text="${d.name}"></option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-en="Patient" data-hi="à¤ªà¥‡à¤¶à¥‡à¤‚à¤Ÿ">Patient</label>
                            <select name="patientId" required>
                                <option th:each="p : ${patients}" th:value="${p.id}" th:text="${p.name}"></option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label data-en="Date" data-hi="à¤¤à¤¾à¤°à¥€à¤–">Date</label>
                            <input type="date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label data-en="Time (HH:MM)" data-hi="à¤¸à¤®à¤¯ (HH:MM)">Time (HH:MM)</label>
                            <input type="time" name="time" required>
                        </div>
                        <button type="submit" class="btn-primary hover-lift" data-en="Book" data-hi="à¤¬à¥à¤• à¤•à¤°à¥‡à¤‚">
                            Book
                        </button>
                    </form>
                </div>

                <div class="card slide-up glow-card" style="animation-delay:0.1s">
                    <h3 data-en="All Appointments" data-hi="à¤¸à¤­à¥€ à¤…à¤ªà¥‰à¤‡à¤‚à¤Ÿà¤®à¥‡à¤‚à¤Ÿ">All Appointments</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th data-en="Doctor" data-hi="à¤¡à¥‰à¤•à¥à¤Ÿà¤°">Doctor</th>
                                <th data-en="Patient" data-hi="à¤ªà¥‡à¤¶à¥‡à¤‚à¤Ÿ">Patient</th>
                                <th data-en="Date" data-hi="à¤¤à¤¾à¤°à¥€à¤–">Date</th>
                                <th data-en="Time" data-hi="à¤¸à¤®à¤¯">Time</th>
                                <th data-en="Status" data-hi="à¤¸à¥à¤¥à¤¿à¤¤à¤¿">Status</th>
                                    <th data-en="Actions" data-hi="à¤•à¥à¤°à¤¿à¤¯à¤¾">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="a : ${appointments}">
                                <td th:text="${a.id}">1</td>
                                <td th:text="${a.doctor.name}">Doc</td>
                                <td th:text="${a.patient.name}">Patient</td>
                                <td th:text="${a.date}">2025-01-01</td>
                                <td th:text="${a.timeSlot}">10:00</td>
                                <td th:text="${a.status}">BOOKED</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        
                <!-- Edit appointment modal -->
                <div id="editAppointmentModal" class="face-modal hidden">
                    <div class="face-modal-content card glow-card">
                        <h3 data-en="Edit Appointment" data-hi="à¤…à¤ªà¥‰à¤‡à¤‚à¤Ÿà¤®à¥‡à¤‚à¤Ÿ à¤¸à¤‚à¤ªà¤¾à¤¦à¤¿à¤¤ à¤•à¤°à¥‡à¤‚">Edit Appointment</h3>
                        <form id="editAppointmentForm" method="post">
                            <div class="form-group">
                                <label data-en="Date" data-hi="à¤¤à¤¾à¤°à¥€à¤–">Date</label>
                                <input id="editAppDate" name="date" type="date" required>
                            </div>
                            <div class="form-group">
                                <label data-en="Time (HH:MM)" data-hi="à¤¸à¤®à¤¯ (HH:MM)">Time (HH:MM)</label>
                                <input id="editAppTime" name="time" type="time" required>
                            </div>
                            <div class="face-actions">
                                <button class="btn-primary hover-lift" type="submit" data-en="Update" data-hi="à¤…à¤ªà¤¡à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚">
                                    Update
                                </button>
                                <button type="button" class="btn-small hover-lift" onclick="closeEditAppointmentModal()" data-en="Close" data-hi="à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚">
                                    Close
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

</main>
    </div>
</body>
</html>
